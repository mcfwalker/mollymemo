# Session: 2026-01-26_1825

## Focus
Implement API cost tracking (MCF-616) and design Telegram bot capture (MCF-618)

## What Was Done
- Implemented full cost tracking feature (MCF-616)
  - Added `openai_cost` and `grok_cost` columns to items table
  - Updated classifier.ts and grok.ts to calculate costs from token usage
  - Created StatsRow component showing current month stats
  - Created /stats page with monthly breakdown by provider
  - Backfilled estimated costs for 37 existing items (~$0.04 total)
- Designed Telegram bot for link capture (MCF-618)
  - Will replace iOS Shortcut with cross-platform solution
  - User whitelist auth via env var
  - Immediate reply + follow-up with processed result
  - Design doc written and committed

## Commits
| Hash | Message |
|------|---------|
| fc7fde9 | docs: add Telegram bot design for MCF-618 |
| fff0605 | feat: add API cost tracking (MCF-616) |
| 8e2e17c | docs: add cost tracking design for MCF-616 |

## Tech Debt Identified
None

## CLAUDE.md Updates Needed
None

---

## Next Session

### Suggested Focus
Implement Telegram bot (MCF-618) - design is complete, ready to build

### Key Files
- `docs/plans/2026-01-26-telegram-bot-design.md` - Full design spec
- `src/app/api/capture/route.ts` - Existing capture logic to reuse
- `src/app/api/telegram/route.ts` - New endpoint to create

### Kickoff Message
Telegram bot design is done. Create `/api/telegram` webhook endpoint that receives messages, checks user whitelist against `TELEGRAM_ALLOWED_USERS` env var, extracts URLs, and calls the existing capture pipeline. Bot should reply immediately with "Got it!" then follow up with the processed title/summary. See `docs/plans/2026-01-26-telegram-bot-design.md` for full spec.
